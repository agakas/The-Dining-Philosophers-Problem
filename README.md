# The Dining Philosophers Problem (C++11, CMake)

Решение классической задачи об обедающих философах с использованием средств стандартной библиотеки C++ (не ниже C++11).

Решение:
- не допускает deadlock
- корректно завершает работу всех потоков
- использует только стандартную библиотеку C++
- собирается с помощью CMake на macOS и Windows

---

## Используемые технологии

- C++11
- CMake (out-of-source build)
- Стандартная библиотека C++

Сторонние библиотеки **не используются**.

---

## Структура проекта

```
.
├── CMakeLists.txt
├── src/
│   ├── main.cpp
│   ├── philosopher.h
│   ├── philosopher.cpp
│   ├── table.h
│   ├── table.cpp
│   ├── logger.h
│   └── logger.cpp
└── README.md
```

Сборка выполняется вне дерева исходников (`build/` не сохранен в репозитории).

---

## Сборка и запуск

### macOS (мастер-система)

```bash
cmake -S . -B build/macos
cmake --build build/macos
./build/macos/philosophers
```

---

### Windows

```powershell
cmake -S . -B build -G "Visual Studio 18 2026" -A x64
cmake --build build --config Release
.\build\windows\Release\philosophers.exe
```

Для сборки под Windows были необходимы инструменты разработчика Microsoft Visual Studio 2026
---

## Логирование

Во время работы программа выводит информацию о действиях философов в стандартный вывод в формате:

```
[TID][HH:MM:SS:ms] Философ N (действие)
```

Пример:

```
[TID 0x16fb9b000] [15:29:00:662] Философ 1 начал думать
[TID 0x16fb0f000] [15:29:00:662] Философ 0 взял вилки
[TID 0x16fb0f000] [15:29:00:662] Философ 0 начал есть
[TID 0x16fc27000] [15:29:00:663] Философ 2 закончил думать
[TID 0x16fd3f000] [15:29:00:747] Философ 4 закончил думать
[TID 0x16fcb3000] [15:29:00:752] Философ 3 закончил есть
[TID 0x16fcb3000] [15:29:00:752] Философ 3 положил вилки
```

Логирование потокобезопасно.

---

## Завершение программы

Программа корректно завершает работу:
- главный поток инициирует остановку
- все философы завершают свои циклы
- все потоки корректно `join()`-ятся

Бесконечно работающих потоков нет.